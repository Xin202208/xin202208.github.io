import{_ as K}from"./TabCustom-9d8aafab.js";import{d as B,u as W,c as P,o as t,f as n,g as i,F as A,l as U,n as p,e as o,t as S,h as T,_ as j,H as Y,p as y,w as b,q as $,i as C,y as Z,k as N,a as H,j as J,E as Q,I as tt,r as R,C as et,D as st,v as at,x as ot}from"./index-f56efdbb.js";import{_ as nt}from"./SwitchCustom.vue_vue_type_style_index_0_lang-65b892b1.js";/* empty css                    */const it=B({__name:"RecordSearch",props:{data:{type:Array,default:()=>[]}},setup(l){const d=l,e=W({mob:767}),s=e.greater("mob"),_=e.smaller("mob"),r=P(()=>{const m=[];let a=[];for(let c=0;c<d.data.length;c++){const u=d.data[c];a.push({label:"機關",content:u.name}),a.push({label:"訊息量",content:u.message}),a.push({label:"檔案量",content:u.file}),a.push({label:"檔案大小",content:`${u.fileSize}(MB)`}),a.push({label:"使用人數",content:u.user}),(c+1)%5===0&&(m.push(a),a=[])}return a.length>0&&m.push(a),m});return(m,a)=>(t(),n("div",{class:p(["im-record-table-layout",{"over-mob":o(s)}])},[i("div",{class:p(["im-record-table-item-block",{"over-mob":o(s)}])},[(t(!0),n(A,null,U(r.value,(c,u)=>(t(),n("div",{key:u,class:p(["im-record-table-row",{"over-mob":o(s)},{"label-hidden":u>0}])},[(t(!0),n(A,null,U(c,(v,h)=>(t(),n("div",{key:h,class:p(["im-record-table-item",{"over-mob":o(s)},`index${h}`,{"width-custom":h>1&&h%5===0||h===0},{"width-40":h%5===0},{"width-15":h%5!==0},{"margin-top-custom":h%5===0},{"margin-bottom-custom":h%5!==0},{"border-right-bottom-radius":h%5===4},{"border-left-bottom-radius":h%5===1}])},[o(_)||o(s)&&h<=4?(t(),n("div",{key:0,class:p(["im-record-table-header",{"over-mob":o(s)},`index${h}`])},S(v.label),3)):T("",!0),i("div",{class:p(["im-record-table-content",`index${h}`,{"over-mob":o(s)}])},[i("span",{class:p([`index${h}`])},S(v.content),3)],2)],2))),128))],2))),128))],2)],2))}});const lt=j(it,[["__scopeId","data-v-67b01c2b"]]),F=Y("ticketsCount",{state:()=>({draftCount:V.length,publishedCount:O.length,archivedCount:x.length}),actions:{moveThumbnail(l,d,e){const s=this.getArrayByStatus(d),_=this.getArrayByStatus(e),r=s.findIndex(m=>m.id===l);if(r!==-1){const m=s.splice(r,1)[0];m.status=e,_.push(m),this.updateCount(d),this.updateCount(e)}},deleteThumbnail(l){const d=x.findIndex(e=>e.id===l);d!==-1&&(x.splice(d,1),this.archivedCount--)},getArrayByStatus(l){return l==="draft"?V:l==="published"?O:l==="unpublished"?x:[]},updateCount(l){l==="draft"?this.draftCount=V.length:l==="published"?this.publishedCount=O.length:l==="unpublished"&&(this.archivedCount=x.length)},decrementPublishedCount(){this.publishedCount>0&&this.publishedCount--},incrementArchivedCount(){this.archivedCount++},decrementArchivedCount(){this.archivedCount>0&&this.archivedCount--}}}),V=[{id:0,thumbnailUrl:"https://picsum.photos/50/50",status:"draft",name:"風景"},{id:1,thumbnailUrl:"https://picsum.photos/id/237/50/50",status:"draft",name:"動物"}],O=[{id:2,thumbnailUrl:"https://picsum.photos/seed/picsum/50/50",status:"published",name:"9487"},{id:3,thumbnailUrl:"https://picsum.photos/50/50/?blur",status:"published",name:"12365"},{id:4,thumbnailUrl:"https://picsum.photos/id/870/50/50?grayscale&blur=2",status:"published",name:"圖片"}],x=[{id:5,thumbnailUrl:"https://picsum.photos/50/50.jpg",status:"unpublished",name:"測試1"},{id:6,thumbnailUrl:"https://picsum.photos/80?blur=2",status:"unpublished",name:"0502"},{id:7,thumbnailUrl:"https://picsum.photos/80?blur=3",status:"unpublished",name:"0855"},{id:8,thumbnailUrl:"https://picsum.photos/80?blur=4",status:"unpublished",name:"7448"}],ct=["src"],rt={class:"buttons"},ut={key:2},dt=B({__name:"TicketThumb",props:{imageId:{type:Number,default:0},imageSrc:{type:String,default:""},imageName:{type:String,default:""},ticketStatus:{type:String,default:""}},emits:["move-to-published","move-to-archived","delete-thumbnail"],setup(l,{emit:d}){const e=l,s=F(),_=a=>{e.ticketStatus==="draft"?s.moveThumbnail(a,e.ticketStatus,"published"):e.ticketStatus==="archived"&&(s.moveThumbnail(a,e.ticketStatus,"published"),s.decrementArchivedCount()),d("move-to-published",a)},r=a=>{e.ticketStatus==="published"&&(s.moveThumbnail(a,e.ticketStatus,"unpublished"),s.decrementPublishedCount(),s.incrementArchivedCount()),d("move-to-archived",a)},m=a=>{s.deleteThumbnail(a),s.decrementArchivedCount(),d("delete-thumbnail",a)};return(a,c)=>{const u=Z;return t(),n("div",{class:p(["thumbnail",,{remove:e.ticketStatus==="archived"}])},[i("div",{class:p(["thumbnail-image-block",{remove:e.ticketStatus==="archived"}])},[i("img",{src:e.imageSrc,class:"thumbnail-image",alt:"ticket"},null,8,ct)],2),i("span",null,S(e.imageName),1),i("div",rt,[e.ticketStatus==="draft"?(t(),y(u,{key:0,class:"button-control button-put-on",onClick:c[0]||(c[0]=v=>_(e.imageId))},{default:b(()=>[$("上架")]),_:1})):T("",!0),e.ticketStatus==="published"?(t(),y(u,{key:1,class:"button-control button-remove",onClick:c[1]||(c[1]=v=>r(e.imageId))},{default:b(()=>[$("下架")]),_:1})):T("",!0),e.ticketStatus==="archived"?(t(),n("div",ut,[C(u,{class:"button-control button-put-on",onClick:c[2]||(c[2]=v=>_(e.imageId))},{default:b(()=>[$("上架")]),_:1}),C(u,{class:"button-control button-delete",onClick:c[3]||(c[3]=v=>m(e.imageId))},{default:b(()=>[$("刪除")]),_:1})])):T("",!0)])],2)}}});const q=j(dt,[["__scopeId","data-v-24dcf44b"]]),mt={class:"ticket-layout"},ht={class:"ticket-section draft"},pt={key:1},bt={class:"ticket-image-block draft"},_t={class:"ticket-section put-on"},vt={key:1},ft={class:"ticket-image-block put-on"},gt={class:"ticket-section remove"},kt={key:1},yt={class:"ticket-image-block remove"},Ct=B({__name:"TicketsManage",setup(l){const d=W({mob:767,platform:991,pc:1439}),e=d.smaller("mob"),s=d.greater("platform"),_=d.greater("pc"),r=F(),m=N(window.innerWidth<768),a=N(window.innerWidth<768),c=N(window.innerWidth<768),u=P(()=>r.getArrayByStatus("draft")),v=P(()=>r.getArrayByStatus("published")),h=P(()=>r.getArrayByStatus("unpublished")),k=()=>{window.innerWidth<768&&(m.value=!m.value)},w=()=>{window.innerWidth<768&&(a.value=!a.value)},f=()=>{window.innerWidth<768&&(c.value=!c.value)},I=E=>{r.moveThumbnail(E,"draft","published")},L=E=>{r.moveThumbnail(E,"published","unpublished")},X=E=>{r.deleteThumbnail(E)};return(E,Bt)=>{const D=H("ArrowDown"),M=Q,z=H("ArrowUp"),G=tt;return t(),y(G,{style:J(o(_)?"height:780px":o(e)?"height:auto":"height:400px")},{default:b(()=>[i("div",mt,[i("div",ht,[m.value?(t(),n("div",{key:0,class:p(["ticket-panel draft"]),onClick:k},[$("草稿區("+S(o(r).draftCount)+")",1),o(s)?T("",!0):(t(),y(M,{key:0,class:"ticket-icon-arrow"},{default:b(()=>[C(D)]),_:1}))])):(t(),n("div",pt,[i("div",{class:p(["ticket-panel  draft",{"un-active":!m.value}]),onClick:k},[$("草稿區("+S(o(r).draftCount)+")",1),o(s)?T("",!0):(t(),y(M,{key:0,class:"ticket-icon-arrow"},{default:b(()=>[C(z)]),_:1}))],2),i("div",bt,[(t(!0),n(A,null,U(u.value,g=>(t(),y(q,{key:g.id,"image-id":g.id,"image-src":g.thumbnailUrl,"image-name":g.name,"ticket-status":"draft",onMoveToPublished:I},null,8,["image-id","image-src","image-name"]))),128))])]))]),i("div",_t,[a.value?(t(),n("div",{key:0,class:"ticket-panel",onClick:w},[$("上架中("+S(o(r).publishedCount)+")",1),o(s)?T("",!0):(t(),y(M,{key:0,class:"ticket-icon-arrow"},{default:b(()=>[C(D)]),_:1}))])):(t(),n("div",vt,[i("div",{class:p(["ticket-panel",{"un-active":!m.value}]),onClick:w},[$("上架中("+S(o(r).publishedCount)+")",1),o(s)?T("",!0):(t(),y(M,{key:0,class:"ticket-icon-arrow"},{default:b(()=>[C(z)]),_:1}))],2),i("div",ft,[(t(!0),n(A,null,U(v.value,g=>(t(),y(q,{key:g.id,"image-id":g.id,"image-src":g.thumbnailUrl,"image-name":g.name,"ticket-status":"published",onMoveToArchived:L},null,8,["image-id","image-src","image-name"]))),128))])]))]),i("div",gt,[c.value?(t(),n("div",{key:0,class:"ticket-panel remove",onClick:f},[$("下架區("+S(o(r).archivedCount)+")",1),o(s)?T("",!0):(t(),y(M,{key:0,class:"ticket-icon-arrow"},{default:b(()=>[C(D)]),_:1}))])):(t(),n("div",kt,[i("div",{class:p(["ticket-panel remove",{"un-active":!m.value}]),onClick:f},[$("下架區("+S(o(r).archivedCount)+")",1),o(s)?T("",!0):(t(),y(M,{key:0,class:"ticket-icon-arrow"},{default:b(()=>[C(z)]),_:1}))],2),i("div",yt,[(t(!0),n(A,null,U(h.value,g=>(t(),y(q,{key:g.id,"image-id":g.id,"image-src":g.thumbnailUrl,"image-name":g.name,"ticket-status":"archived",onMoveToPublished:I,onDeleteThumbnail:X},null,8,["image-id","image-src","image-name"]))),128))])]))])])]),_:1},8,["style"])}}});const St=j(Ct,[["__scopeId","data-v-989dcf22"]]),wt=l=>(at("data-v-2e9a1001"),l=l(),ot(),l),Tt=wt(()=>i("p",{class:"interface-table-remark-text"},"提示：變更即自動儲存！",-1)),$t={class:"interface-table"},At={class:"thead"},Ut={class:"tbody"},It=["data-th"],Et={key:0,class:"tbody-tr-control-block"},Mt={key:1,class:p("tbody-td-p")},xt=B({__name:"InterfaceSetting",props:{apiData:{type:Array,default:()=>[]},titleObject:{type:Object,default:()=>({})}},setup(l){const d=l,s=W({mob:767}).greater("mob"),_=N([]),r=R(d.apiData);et(()=>{const u=document.querySelector(".interface-table");u.querySelectorAll(".thead-th").forEach(k=>_.value.push(k.textContent)),u.querySelectorAll(".tbody-tr").forEach(k=>{k.querySelectorAll(".tbody-td").forEach((f,I)=>{f.setAttribute("data-th",_.value[I])})})});const m=(u,v)=>{if(v==="messageType")switch(+u[v]){case 0:return"批次";case 1:return"緊急"}return u[v]};st(()=>{_.value=[]});const{apiData:a,titleObject:c}=R(d);return(u,v)=>{const h=nt;return t(),n(A,null,[Tt,i("div",$t,[i("div",At,[i("div",{class:p(["thead-tr",{"over-mob":o(s)}])},[(t(!0),n(A,null,U(o(c),(k,w)=>(t(),n("div",{key:w,class:p(["thead-th",`item-${w}`])},[i("p",null,S(k),1)],2))),128))],2)]),i("div",Ut,[(t(!0),n(A,null,U(r,(k,w)=>(t(),n("div",{key:w},[i("div",{class:p(["tbody-tr",`index${w}`,{"last-item":w===o(a).length-1},{"over-mob":o(s)}])},[(t(!0),n(A,null,U(Object.keys(o(c)),f=>(t(),n("div",{key:f,class:p(["tbody-td",`item-${f}`]),"data-th":o(c)[f]},[f==="systemStatus"?(t(),n("div",Et,[C(h,{modelValue:k[f],"onUpdate:modelValue":I=>k[f]=I,"active-text":"啟用","active-value":1,"inactive-value":0,"inactive-text":"停用","active-color":"#0CB3F3"},null,8,["modelValue","onUpdate:modelValue"])])):(t(),n("div",Mt,[i("p",{class:p(["tbody-td-content",f==="messageType"?`status${k[f]}`:""])},S(m(k,f)),3)]))],10,It))),128))],2)]))),128))])])],64)}}});const Nt=j(xt,[["__scopeId","data-v-2e9a1001"]]),Vt=B({__name:"index",setup(l){const d=N([{label:"IM",label2:"貼圖管理",slotName:"tab1"},{label:"IM",label2:"紀錄查詢",slotName:"tab2"},{label:"IM廣播",label2:"介接設定",slotName:"tab3"},{label:"超過100人",label2:"交談群組",slotName:"tab4"}]),e={systemId:"系統 ID",systemName:"系統名稱",messageType:"訊息類型",systemStatus:"狀態"},s=[{name:"新北",message:"5",file:"15",fileSize:"100",user:"99"},{name:"台北",message:"75",file:"1",fileSize:"30",user:"9"},{name:"台中",message:"4",file:"2",fileSize:"8",user:"5"},{name:"高雄",message:"3",file:"21",fileSize:"90",user:"36"}],_=[{systemId:"two_batch_szmwIfjXHgXZ9w6tU12pjw==",systemName:"二代公文(系統通知)",messageType:0,systemStatus:0},{systemId:"machine_batch_Npad+R3xYHjkrI6azRHir0qzjNUqGH1WaGXnEVV2u0KBFHKsxUEM1g==",systemName:"機房管理系統(系統通知)",messageType:1,systemStatus:1}];return(r,m)=>{const a=K;return t(),y(a,{"button-text":"按鈕","page-title":"公務雲管理","tab-list":d.value},{tab1:b(()=>[C(St)]),tab2:b(()=>[C(lt,{data:s})]),tab3:b(()=>[C(Nt,{"api-data":_,"title-object":e})]),tab4:b(()=>[]),_:1},8,["tab-list"])}}});export{Vt as default};
